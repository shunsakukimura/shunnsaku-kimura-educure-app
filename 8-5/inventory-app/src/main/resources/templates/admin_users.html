<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>管理者パネル</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-white">
    <div class="container mt-5">
        <div class="card bg-secondary shadow">
            <div class="card-header bg-warning text-dark d-flex justify-content-between">
                <h3 class="mb-0">システム管理者：ユーザー一覧</h3>
                <a th:href="@{/items}" class="btn btn-dark btn-sm">在庫一覧へ戻る</a>
            </div>
            <div class="card-body text-white">
                <table class="table table-dark table-striped">
                    <thead>
                        <tr>
                            <th>ID</th><th>ユーザー名</th><th>権限</th><th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="u : ${users}">
                            <td th:text="${u.id}"></td>
                            <td th:text="${u.username}"></td>
                            <td th:text="${u.role}"></td>
                            <td>
                                <form th:action="@{/admin/user/delete}" method="post" 
                                      onsubmit="return confirm('本当に削除しますか？');">
                                    <input type="hidden" name="id" th:value="${u.id}">
                                    <button type="submit" class="btn btn-danger btn-sm">強制削除</button>
                                </form>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>